<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="/assets/css/blueimp-gallery.min.css">

<style>
  .center {
    alignment: center;
  }

  .left {
    float: left !important;
  }

  .right {
    float: right !important;
  }

  h1 small, h2 small, h3 small, h4 small, h5 small, h6 small {
    font-size: 50%;
    color: #ff0000;
    line-height: 0;
  }

  .list-itme {
    display: inline-block;
    margin-left: 10px;
    text-align: right;
  }

  .check {
    background-image: url('assets/images/check.ico');
    width: 12px;
    height: 12px;
  }

</style>
<style>
  .drop-box {
    background: #F8F8F8;
    border: 5px dashed #DDD;
    height: 100px;
    text-align: center;
    padding-top: 25px;
    margin: 10px;
  }

  .dragover {
    border: 5px dashed blue;
  }

  .progress div {
    font-size: smaller;
    background: orange;
    width: 300px;
  }
</style>

<div class="container">
  <div class="row">
    <div ng-include="'app/components/navbar/navbar.html'"></div>
  </div>

  <div class="row" ng-show="showCourseInfoDiv">
    <div ng-include="'app/course/partial/courseInfoDiv.html'"></div>
  </div>

  <div class="row" ng-show="showModuleDiv">
    <div ng-include="'app/course/partial/editModuleDiv.html'"></div>
  </div>

  <div class="row" ng-show="showVideoUploadDiv">
    <!--<div ng-include="'app/course/uploadVideoDiv.html'"></div>-->
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="well well-lg">
            <h1>{{course.name}}</h1>
          </div>
          <legend>上传教学视频到: 章节 {{module.name}}</legend>

            <div class="col-md-9">
              <button type="button" class="btn btn-primary btn-xs start" ng-click="showCourse()">
                <i class="glyphicon glyphicon-hand-left"/> 返回课程
              </button>
              <button type="button" class="btn btn-primary btn-xs start" ng-click="uploadAll()">
                <i class="glyphicon glyphicon-upload"/> 上传全部
              </button>
            </div>

            <div class="col-md-9">
              <div ngf-select ngf-drop=""
                   ng-model="files"
                   ng-model-rejected="rejFiles"
                   ngf-multiple="true"
                   ngf-accept="accept"
                   ngf-disabled="disabled"
                   ngf-capture="capture"
                   class="drop-box"
                   ngf-drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}"
                   ngf-min-size="minSize"
                   ngf-max-size="maxSize"
                   ngf-allow-dir="allowDir"
                   class="drop-box ng-pristine ng-untouched ng-valid"
                   accept="application/*"
                   ngf-drop-available="dropAvailable">
                 <span class='btn btn-success fileinput=button'>
                   <i class="glyphicon glyphicon-plus"/> 点击选择视频
                  </span>
                <span ng-show="dropAvailable"> 或 拖放视频到此 </span>
              </div>
              <div>
                <input type="hidden" name="courseId" value={{courseId}}/>
              </div>
            </div>
            <br/>

            <div ng-repeat="f in files" class="col-md-9">
              <div class="col-md-4">
                <video controls="" width="300" height="200" ngf-src="f" ng-show="f != null"
                       ngf-accept="'video/*'"></video>
              </div>
              <div class="col-md-1"></div>

              <div class="col-md-7">
                <label>输入视频简介</label> {{$index}}
                <input class="form-control" type="text"
                       ng-model="videoNames[$index]" ng-minlength="5" class="ng-pristine ng-valid ng-valid-required"/>

              <span class="progress" ng-show="f.progress >= 0">
              <div style="width:{{f.progress}}%" ng-bind="f.progress + '%'" class="ng-binding"></div>
              </span>
                <span><strong>文件名：</strong>{{f.name}}</di>  {{f.progress }}</span> <span> <strong>大小：</strong> {{f.size}}</span>
              </div>
            </div>

          <hr>
        </div>
      </div>

      <hr>
      <div class="footer">
        <p>With ♥ from <a href="https://twitter.com/Swiip">@Swiip</a></p>
      </div>
    </div>
  </div>
</div>

